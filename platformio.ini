[env:m5stack-atoms3]
platform = espressif32
board = m5stack-atoms3
framework = arduino
monitor_speed = 115200
upload_speed = 921600
lib_deps =
    m5stack/M5Unified@^0.1.8
    bblanchon/ArduinoJson@^6.21.3
    arduino-libraries/EEPROM@^2.0.0
build_flags =
    -DCORE_DEBUG_LEVEL=0
    -DCONFIG_ARDUHAL_LOG_COLORS=1
    -DCONFIG_ARDUHAL_ESP_LOG=1
    -DCONFIG_ARDUHAL_LOG_COLORS=1
    -DCONFIG_ARDUHAL_LOG_TIMESTAMP=1
    -DCONFIG_ARDUHAL_LOG_LEVEL=0
    -DCONFIG_ARDUHAL_ESP_LOG_LEVEL=0
    -DCONFIG_ARDUHAL_ESP_LOG_LEVEL_VERBOSE=0
    -DCONFIG_ARDUHAL_ESP_LOG_LEVEL_DEBUG=0
    -DCONFIG_ARDUHAL_ESP_LOG_LEVEL_INFO=0
    -DCONFIG_ARDUHAL_ESP_LOG_LEVEL_WARN=0
    -DCONFIG_ARDUHAL_ESP_LOG_LEVEL_ERROR=0
    -DCONFIG_ARDUHAL_ESP_LOG_LEVEL_NONE=0
    ; WiFi and memory optimization
    -DCONFIG_LWIP_MAX_SOCKETS=8
    -DCONFIG_LWIP_TCP_SND_BUF_DEFAULT=5744
    -DCONFIG_LWIP_TCP_WND_DEFAULT=5744
    -DCONFIG_LWIP_TCP_RECVMBOX_SIZE=6
    -DCONFIG_LWIP_UDP_RECVMBOX_SIZE=6
    -DCONFIG_LWIP_TCPIP_RECVMBOX_SIZE=32
    ; Display settings
    -DCONFIG_DISPLAY_ROTATION=3
    -DCONFIG_DISPLAY_BRIGHTNESS=100
    ; Memory optimization
    -DCONFIG_ARDUINO_RUNNING_CORE=1
    -DCONFIG_ARDUINO_EVENT_RUNNING_CORE=1
    -DCONFIG_ARDUINO_EVENT_QUEUE_SIZE=16
    ; Power management
    -DCONFIG_PM_ENABLE=1
    -DCONFIG_PM_DFS_INIT_AUTO=1